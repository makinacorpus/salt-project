[buildout]
extends =
    versions.cfg
    settings.cfg
    etc/settings-local.cfg
auto-checkout += ckan
versions = versions
parts =
    omelette
    mypy
    nil
extensions = mr.developer buildout.dumppickedversions
sources=sources
eggs =
    ckan
    ipython
    Babel
    Beaker
    FormAlchemy
    FormEncode
    Genshi
    Jinja2
    Mako
    MarkupSafe
    Pairtree
    Paste
    PasteDeploy
    PasteScript
    Pygments
    Pylons
    Routes
    SQLAlchemy
    Tempita
    WebError
    WebHelpers
    WebOb
    WebTest
    apachemiddleware
    argparse
    decorator
    distribute
    fanstatic
    nose
    ofs
    psycopg2
    python-dateutil
    python-openid
    pyutilib.component.core
    repoze.lru
    repoze.who
    repoze.who-friendlyform
    repoze.who.plugins.openid
    requests
    simplejson
    solrpy
    sqlalchemy-migrate
    unicodecsv
    vdm
    wsgiref
    zope.interface

[sources]
ckan = git https://github.com/makinacorpus/ckan.git

[nil]
recipe=plone.recipe.command
command=echo
update-command=echo

[datadir]
recipe=plone.recipe.command
command=if [ ! -d "${instance:data_dir}" ];then mkdir "${instance:data_dir}";fi
update-command=${datadir:command}


[mypy]
recipe=zc.recipe.egg
interpreter = mypy
eggs=${buildout:eggs}
extra-paths =

#[test]
#recipe = zc.recipe.testrunner
#defaults = ['-v', '-s', 'ckan']
#eggs =
#    ${buildout:common-eggs}
#    ${buildout:test-eggs}
#

[omelette]
recipe = collective.recipe.omelette
eggs = ${buildout:eggs}
#packages = ./

[instance]
recipe=collective.recipe.template[genshi]:genshi
input = ${buildout:directory}/etc/templates/config.ini.in
output = ${buildout:parts-directory}/instance.ini

[instance1]
<=instance
output = ${buildout:parts-directory}/instance1.ini

[instance2]
<=instance
output = ${buildout:parts-directory}/instance2.ini

[instance3]
<=instance
output = ${buildout:parts-directory}/instance3.ini

[instance4]
<=instance
output = ${buildout:parts-directory}/instance4.ini
